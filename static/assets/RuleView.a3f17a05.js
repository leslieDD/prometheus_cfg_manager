import{C as e}from"./lint.d7baeab5.js";/* empty css                */import"./yaml.5eafab3c.js";import{j as a}from"./js-yaml.37a6bd33.js";import{b as t,c as l}from"./publish.9be40a68.js";import{m as r,p as s,b as o,r as i,o as n,c as d,a as c,w as m}from"./vendor.61ee7ef1.js";import"./request.0c690da8.js";window.jsyaml=a;const u={name:"ymalViewer",data:()=>({data:[],defaultProps:{children:"children",label:"label"},yamlViewer:!1,value:""}),methods:{doLoadAllRulesFiles(){t().then((e=>{this.data=e.data})).catch((e=>{console.log(e)}))},doloadRuleFileContent(e){l(e).then((e=>{this.yamlViewer.setValue(e.data)})).catch((e=>{console.log(e)}))},handleNodeClick(e,a,t){if(!e.path)return!1;const l={label:e.label,path:e.path};this.doloadRuleFileContent(l)},refresh(){this.yamlViewer.refresh()}},beforeUnmount(){},mounted(){this.yamlViewer=r(e.fromTextArea(this.$refs.textareaRV,{mode:"text/x-yaml",indentUnit:2,smartIndent:!0,styleActiveLine:!0,lineNumbers:!0,theme:"darcula",keyMap:"sublime",lineWrapping:!1,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],lint:!0,fullScreen:!1,matchBrackets:!0,autoCloseBrackets:!0,extraKeys:{F11:e=>{e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:e=>{e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}},scrollbarStyle:"native"})),this.yamlViewer.refresh(),this.yamlViewer.setValue(this.value),this.yamlViewer.on("change",(e=>{this.$emit("changed",e.getValue()),this.$emit("input",e.getValue())})),this.doLoadAllRulesFiles()}},h=m();s("data-v-4ecfb87c");const p={class:"main-box"},f={class:"main-content"},b={class:"yaml-viewer"},y={ref:"textareaRV"};o();const V=h(((e,a,t,l,r,s)=>{const o=i("el-tree"),m=i("el-scrollbar");return n(),d("div",p,[c("div",f,[c(m,{class:"card-scrollbar"},{default:h((()=>[c(o,{data:r.data,props:r.defaultProps,accordion:"","default-expand-all":"",indent:0,onNodeClick:s.handleNodeClick,class:"tree"},null,8,["data","props","onNodeClick"])])),_:1})]),c("div",b,[c("textarea",y,null,512)])])}));u.render=V,u.__scopeId="data-v-4ecfb87c";export default u;
