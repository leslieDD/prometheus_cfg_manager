import{C as e}from"./lint.19a4d277.js";/* empty css                */import"./yaml.18945566.js";import{j as a}from"./js-yaml.039310f8.js";import{b as t,c as l}from"./publish.42ddecf2.js";import{y as r,p as s,j as i,r as o,o as n,c as d,a as c,k as m}from"./vendor.02dbbba7.js";import"./request.7109f7ea.js";import"./index.77a42742.js";window.jsyaml=a;const u={name:"ymalViewer",data:()=>({data:[],defaultProps:{children:"children",label:"label"},yamlViewer:!1,value:""}),methods:{doLoadAllRulesFiles(){t().then((e=>{this.data=e.data})).catch((e=>{console.log(e)}))},doloadRuleFileContent(e){l(e).then((e=>{this.yamlViewer.setValue(e.data)})).catch((e=>{console.log(e)}))},handleNodeClick(e,a,t){if(!e.path)return!1;const l={label:e.label,path:e.path};this.doloadRuleFileContent(l)},refresh(){this.yamlViewer.refresh()}},beforeUnmount(){},mounted(){this.yamlViewer=r(e.fromTextArea(this.$refs.textareaRV,{mode:"text/x-yaml",indentUnit:2,smartIndent:!0,styleActiveLine:!0,lineNumbers:!0,theme:"darcula",keyMap:"sublime",lineWrapping:!1,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],lint:!0,fullScreen:!1,matchBrackets:!0,autoCloseBrackets:!0,extraKeys:{F11:e=>{e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:e=>{e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}},scrollbarStyle:"native"})),this.yamlViewer.refresh(),this.yamlViewer.setSize("1120px","83vh"),this.yamlViewer.setValue(this.value),this.yamlViewer.on("change",(e=>{this.$emit("changed",e.getValue()),this.$emit("input",e.getValue())})),this.doLoadAllRulesFiles()}},h=m();s("data-v-7b99a2cb");const p={class:"main-box"},f={class:"main-content"},b={class:"yaml-viewer"},y={ref:"textareaRV"};i();const V=h(((e,a,t,l,r,s)=>{const i=o("el-tree"),m=o("el-scrollbar");return n(),d("div",p,[c("div",f,[c(m,{class:"card-scrollbar"},{default:h((()=>[c(i,{data:r.data,props:r.defaultProps,accordion:"","default-expand-all":"",indent:0,onNodeClick:s.handleNodeClick,class:"tree"},null,8,["data","props","onNodeClick"])])),_:1})]),c("div",b,[c("textarea",y,null,512)])])}));u.render=V,u.__scopeId="data-v-7b99a2cb";export default u;
